@page
@model BookSwap.Pages.Client.Student.ChatModel
@{
    Layout = "_Student";
}

<!-- Main Content -->
<div class="flex-1 flex flex-col lg:ml-0">
    <header class="h-14 flex items-center gap-4 border-b border-border px-4 bg-background sticky top-0 z-10">
        <button id="sidebar-toggle" class="lg:hidden p-2 rounded-md hover:bg-muted">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
        </button>
        <h1 class="font-serif text-lg font-semibold">Student Portal</h1>
    </header>

    <main class="flex-1 flex">
        <!-- Conversations List -->
        <div class="w-80 border-r border-border flex flex-col">
            <div class="p-4 border-b border-border">
                <h2 class="font-serif text-lg font-semibold">Messages</h2>
            </div>
            <div class="flex-1 overflow-y-auto">
                <div class="p-3 bg-muted/50 border-b border-border cursor-pointer">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-full hero-gradient flex items-center justify-center text-white font-bold">RK</div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center justify-between">
                                <p class="font-medium truncate">Rahul Kumar</p>
                                <span class="text-xs text-muted-foreground">2h</span>
                            </div>
                            <p class="text-sm text-muted-foreground truncate">Sure, let's meet tomorrow at...</p>
                        </div>
                    </div>
                </div>
                <div class="p-3 hover:bg-muted/30 border-b border-border cursor-pointer">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-full bg-secondary flex items-center justify-center font-bold">PM</div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center justify-between">
                                <p class="font-medium truncate">Priya Mehta</p>
                                <span class="text-xs text-muted-foreground">1d</span>
                            </div>
                            <p class="text-sm text-muted-foreground truncate">Is the book still available?</p>
                        </div>
                    </div>
                </div>
                <div class="p-3 hover:bg-muted/30 border-b border-border cursor-pointer">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-full bg-secondary flex items-center justify-center font-bold">AS</div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center justify-between">
                                <p class="font-medium truncate">Amit Shah</p>
                                <span class="text-xs text-muted-foreground">3d</span>
                            </div>
                            <p class="text-sm text-muted-foreground truncate">Thanks for the swap!</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chat Area -->
        <div class="flex-1 flex flex-col">
            <div class="p-4 border-b border-border flex items-center gap-3">
                <div class="w-10 h-10 rounded-full hero-gradient flex items-center justify-center text-white font-bold">RK</div>
                <div>
                    <p class="font-semibold">Rahul Kumar</p>
                    <p class="text-xs text-muted-foreground">Online</p>
                </div>
            </div>

            <div class="flex-1 p-4 overflow-y-auto space-y-4">
                <div class="flex justify-start">
                    <div class="bg-muted rounded-2xl rounded-bl-sm px-4 py-2 max-w-xs">
                        <p class="text-sm">Hi! I'm interested in swapping for The Great Gatsby</p>
                        <span class="text-xs text-muted-foreground">10:30 AM</span>
                    </div>
                </div>
                <div class="flex justify-end">
                    <div class="hero-gradient text-white rounded-2xl rounded-br-sm px-4 py-2 max-w-xs">
                        <p class="text-sm">Hi Rahul! Yes, it's still available. What book do you have to offer?</p>
                        <span class="text-xs text-white/70">10:32 AM</span>
                    </div>
                </div>
                <div class="flex justify-start">
                    <div class="bg-muted rounded-2xl rounded-bl-sm px-4 py-2 max-w-xs">
                        <p class="text-sm">I have "The Alchemist" in great condition. Would that work?</p>
                        <span class="text-xs text-muted-foreground">10:35 AM</span>
                    </div>
                </div>
                <div class="flex justify-end">
                    <div class="hero-gradient text-white rounded-2xl rounded-br-sm px-4 py-2 max-w-xs">
                        <p class="text-sm">That sounds perfect! When would you like to meet?</p>
                        <span class="text-xs text-white/70">10:38 AM</span>
                    </div>
                </div>
                <div class="flex justify-start">
                    <div class="bg-muted rounded-2xl rounded-bl-sm px-4 py-2 max-w-xs">
                        <p class="text-sm">Sure, let's meet tomorrow at the coffee shop near Marine Drive?</p>
                        <span class="text-xs text-muted-foreground">2 hours ago</span>
                    </div>
                </div>
            </div>

            <div class="p-4 border-t border-border">
                <div class="flex gap-2">
                    <input type="text" class="input flex-1" placeholder="Type a message...">
                    <button class="btn btn-primary">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </main>
</div>
